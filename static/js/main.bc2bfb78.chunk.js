(this["webpackJsonptest_fronted-react"]=this["webpackJsonptest_fronted-react"]||[]).push([[0],{104:function(e,t,n){e.exports=n(216)},113:function(e,t,n){},114:function(e,t,n){},116:function(e,t,n){},213:function(e,t,n){},214:function(e,t,n){},215:function(e,t,n){},216:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(29),l=n.n(c),i=n(17),u=n(16),s=n(4),m=o.a.createContext(),d=m.Provider,p=m.Consumer,f=function(){return function(e){return function(t){return o.a.createElement(p,null,(function(n){return o.a.createElement(e,Object.assign({},t,{postsStoreService:n}))}))}}},E=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduceRight((function(e,t){return t(e)}),e)}},h=function(e){return{type:"FETCH_POSTS_SUCCESS",payload:e}},b=function(e){return{type:"FETCH_POSTS_FAILURE",payload:e}},g=function(e,t){return function(){t({type:"FETCH_POSTS_REQUEST"}),e.getPosts().then((function(e){return t(h(e))})).catch((function(e){return t(b(e))}))}},v=function(){return o.a.createElement("div",null,"Error")},S=function(){return o.a.createElement("div",null,"Loading ...")},N=(n(113),function(e){var t=e.data,n=e.children,a=t.map((function(e){var t=n(e);return o.a.createElement("li",{className:"col-6 col-md-4",key:e.id},t)}));return o.a.createElement("div",{className:"container"},o.a.createElement("ul",{className:"item-list"},a))}),T=(n(114),(a=function(e){var t=e.id,n=e.title,a=e.author,r=e.date;return o.a.createElement("article",{className:"card post-card"},o.a.createElement("div",{className:"card-body"},o.a.createElement(i.b,{to:"/post/".concat(t)},o.a.createElement("h5",{className:"card-title"},n)),o.a.createElement("p",{className:"card-text"},a),o.a.createElement("p",{className:"card-text"},r)))},function(e){return function(t){return o.a.createElement(e,t,a)}})(N)),y=E(f(),Object(u.b)((function(e){var t=e.postList;return{posts:t.posts,loading:t.loading,error:t.error}}),(function(e,t){var n=t.postsStoreService;return{fetchPosts:g(n,e)}})))((function(e){var t=e.posts,n=e.loading,a=e.error,c=e.fetchPosts;return Object(r.useEffect)((function(){return c(),function(){console.log("PostListContainer unmount")}}),[c]),n?o.a.createElement(S,null):a?o.a.createElement(v,null):o.a.createElement(T,{data:t})})),O=(n(116),function(e){var t=e.post,n=t.title,a=t.author,r=t.content,c=t.date;return document.title=n,o.a.createElement("div",{className:"container"},o.a.createElement("h1",{className:"card-title"},n),o.a.createElement("div",{className:"card",dangerouslySetInnerHTML:{__html:r.replace(/(<? *script)/gi,"illegalscript")}}),o.a.createElement("p",{className:"font-weight-normal"},a),o.a.createElement("p",{className:"font-weight-light"},c))}),C=E(Object(u.b)((function(e){return{posts:e.postList.posts}})))((function(e){var t=e.id,n=e.posts.find((function(e){return e.id==t}));return n?o.a.createElement(O,{post:n}):o.a.createElement("h2",null,"Not Found")})),j=function(){return document.title="\u0413\u043b\u0430\u0432\u043d\u0430\u044f",o.a.createElement(y,null)},P=function(e){var t=e.match;return o.a.createElement("div",null,o.a.createElement(C,{id:t.params.id}))},_=n(32),w=n(31),A=n(99),x=(n(212),n(100)),k=n.n(x),F=n(24),L=(n(213),Object(F.b)(f(),Object(u.b)(null,(function(e,t){var n=t.postsStoreService;return function(){return{fetchAddPost:function(t){return function(e,t){return function(n){t({type:"FETCH_POSTS_REQUEST"}),e.postAddPost(n).then((function(e){return t(h(e))})).catch((function(e){return t(b(e))}))}}(n,e)(t)}}}})))((function(e){var t=e.fetchAddPost,n=(new Date).toDateString(),a=Object(r.useState)(""),c=Object(_.a)(a,2),l=c[0],i=c[1],u=Object(r.useState)(""),s=Object(_.a)(u,2),m=s[0],d=s[1],p=Object(r.useState)(w.EditorState.createEmpty()),f=Object(_.a)(p,2),E=f[0],h=f[1],b=Object(r.useState)(!1),g=Object(_.a)(b,2),v=g[0],S=g[1],N=function(e){var t=e.currentTarget.value;switch(e._targetInst.pendingProps.id){case"title":i(t);break;case"author":d(t);break;default:console.log('Error in "switch case"')}},T=o.a.createElement("div",{onClick:function(){S(!1)},className:"alert alert-success",role:"alert"},o.a.createElement("h4",{className:"alert-heading"},"\u0423\u0441\u043f\u0435\u0445!"),o.a.createElement("p",null,"\u041f\u043e\u0441\u0442 \u043e\u0442\u043f\u0440\u0430\u0432\u043b\u0435\u043d"));return o.a.createElement("div",{className:"container"},v&&T,o.a.createElement("form",{onSubmit:function(e){e.preventDefault(),t({title:l,content:k()(Object(w.convertToRaw)(E.getCurrentContent())),author:m,date:n}),S(!0),i(""),d(""),h(w.EditorState.createEmpty())}},o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"title"},"Title"),o.a.createElement("input",{value:l,onChange:N,type:"text",className:"form-control-lg",id:"title",placeholder:"Title",required:!0})),o.a.createElement("div",{className:"form-group col-md-12"},o.a.createElement("label",{htmlFor:"content"},"Content"),o.a.createElement(A.Editor,{editorState:E,wrapperClassName:"editor-wrapper",editorClassName:"editor-editor",onEditorStateChange:function(e){h(e)}})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("label",{htmlFor:"author"},"Author"),o.a.createElement("input",{value:m,onChange:N,type:"text",className:"form-control-lg",id:"author",placeholder:"author",required:!0})),o.a.createElement("div",{className:"form-group col-md-2"},o.a.createElement("button",{type:"submit",className:"btn btn-primary btn-lg"},"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"))))}))),q=function(){return document.title="\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0437\u0430\u043f\u0438\u0441\u044c",o.a.createElement("div",null,o.a.createElement(L,null))},H=(n(214),function(){return o.a.createElement("header",{className:"post-header"},o.a.createElement("div",{className:"container"},o.a.createElement(i.b,{to:"/",className:"logo text-dark"},"Main"),o.a.createElement(i.b,{to:"/add-post",className:"add-post"},o.a.createElement("span",null,"Add post"),o.a.createElement("i",{className:"cart-icon fa fa-plus-circle"}))))}),I=(n(215),function(){return o.a.createElement("main",{role:"main",className:"container-fluid"},o.a.createElement(H,null),o.a.createElement(s.c,null,o.a.createElement(s.a,{path:"/",component:j,exact:!0}),o.a.createElement(s.a,{path:"/add-post/",component:q}),o.a.createElement(s.a,{path:"/post/:id",component:P}),o.a.createElement(s.a,{render:function(){return o.a.createElement("h2",null,"Page not found")}})))}),R=n(44),U=n(45),J=n(101),D=n(103),M=function(e){Object(D.a)(n,e);var t=Object(J.a)(n);function n(){var e;Object(R.a)(this,n);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={hasError:!1},e}return Object(U.a)(n,[{key:"componentDidCatch",value:function(){this.setState({hasError:!0})}},{key:"render",value:function(){return this.state.hasError?o.a.createElement(v,null):this.props.children}}]),n}(r.Component),Q=n(102),z=new(function(){function e(){var t=this;Object(R.a)(this,e),this.data=[{title:"Title \u21161",author:"Author \u21161",content:'<p><span style="color: rgb(0,0,0);background-color: rgb(255,255,255);font-size: 14px;font-family: Arial;"><strong>Lorem ipsum dolor sit amet, consectetur adipisicing elit. Nihil laboriosam rerum est omnis sunt nesciunt exercitationem voluptate cupiditate fugit numquam minima, consectetur maiores at et sed eligendi cumque facere voluptatum.</strong></span></p><p><span style="color: rgb(0,0,0);background-color: rgb(255,255,255);font-size: 14px;font-family: Arial;"><em>          Sint enim minus placeat, autem consectetur inventore ipsum voluptate esse doloremque temporibus? Natus, beatae? Id saepe error quibusdam praesentium aperiam a magni expedita natus! Iste quidem at neque autem maiores.</em></span></p><p><span style="color: rgb(255,255,255);background-color: rgb(38,50,56);font-size: 14px;font-family: Arial;"><del>          Quasi illum quo non dolorem ea harum voluptatem ipsa quaerat et, eveniet beatae sapiente fugit explicabo fuga nihil laborum vitae mollitia voluptatibus quam voluptates. Dolor necessitatibus facere deleniti esse tenetur?</del></span></p>',date:"Tue Jul 14 2020",id:249},{title:"Title \u21162",author:"Author \u21162",content:"<p>Lorem</p>",date:"Tue Jul 14 2020",id:248},{title:"Title \u21163",author:"Author \u21163",content:"<p>Lorem</p>",date:"Tue Jul 14 2020",id:247},{title:"Title \u21164",author:"Author \u21164",content:"<p></p>",date:"Tue Jul 14 2020",id:246}],this.getPosts=function(){return new Promise((function(e){setTimeout((function(){e(t.data)}),500)}))},this.postAddPost=function(e){var n=Object(Q.a)({},e,{id:Math.floor(1e3*Math.random())});return new Promise((function(e){t.data.push(n),setTimeout((function(){e(t.data)}),500)}))}}return Object(U.a)(e,[{key:"getPost",value:function(e){var t=this;return new Promise((function(n){setTimeout((function(){n(t.data.find((function(t){return t.id===e})))}),500)}))}}]),e}()),B=function(e,t){if(void 0===e)return{posts:[],loading:!0,error:null};switch(t.type){case"FETCH_POSTS_SUCCESS":return{posts:t.payload,loading:!1,error:null};case"FETCH_POSTS_REQUEST":return{posts:[],error:null,loading:!0};case"FETCH_POSTS_FAILURE":return{posts:[],loading:!1,error:t.payload};default:return e.postList}},G=function(e,t){return{postList:B(e,t),date:[]}},K=Object(F.c)(G);l.a.render(o.a.createElement(u.a,{store:K},o.a.createElement(M,null,o.a.createElement(d,{value:z},o.a.createElement(i.a,null,o.a.createElement(I,null))))),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.bc2bfb78.chunk.js.map